import matplotlib.pyplot as plt
import numpy as np
import os
import h5py


def Get_final_tick(file_name):
    file_name_string = os.path.splitext(file_name)[0].split("_")
    for item in file_name_string:
        if "tick" in item:
            tick = int(item.split("=")[1])
    return tick


def read_hdf5_data(file_path):
    with h5py.File(file_path, "r") as f:
        # print(f.keys())
        agents = f.get("agent_data")[:]
        shepherd = f.get("shepherd_data")[:]
        agents_pos = agents[:, 0:2, :]
        agents_state = agents[:, 3, :]
        shepherd_pos = shepherd[:, 0:2, :]
        shepherd_state = shepherd[:, 3, :]
        f.close()
    return agents_pos, agents_state, shepherd_pos, shepherd_state


def calculate_time_in_different_modes(list_of_l3, list_of_n_sheep, list_of_n_shepherd, directory):
    for L3 in list_of_l3:
        for N_shepherd in list_of_n_shepherd:
            drive_mode_list = []
            collect_mode_list = []
            drive_mode = dict([])
            collect_mode = dict([])
            for N_sheep in list_of_n_sheep:
                data_folder = directory + "/L3=" + str(L3) + "/N_sheep=" + str(N_sheep) + "/"
                files = os.listdir(data_folder)
                keyword = "N_sheep=" + str(N_sheep) + "_N_shepherd=" + str(N_shepherd) + "_L3=" + str(L3)
                # print(keyword)
                drive_ratio = []
                collect_ratio = []
                count = 0
                for file in files:
                    if not os.path.isdir(file):
                        if keyword in file:
                            # print(file)
                            file_path = data_folder + file
                            agents_pos, agents_state, shepherd_pos, shepherd_state = read_hdf5_data(file_path)
                            Iterations = Get_final_tick(file)
                            # print("Iterations:", Iterations)
                            drive_ratio.append(np.sum(shepherd_state) / (Iterations + 1))
                            collect_ratio.append(1 - np.sum(shepherd_state) / (Iterations + 1))
                            # print(np.sum(shepherd_state))
                            # print(np.sum(shepherd_state)/(Iterations + 1))
                            count = count + 1
                drive_mode_list.append(drive_ratio)
                collect_mode_list.append(collect_ratio)
                drive_mode["Ns=" + str(N_sheep)] = drive_ratio
                collect_mode["Ns=" + str(N_sheep)] = collect_ratio
                print(keyword, "Repetitions:", count, "drive_ratio:", drive_ratio, "collect_ratio", collect_ratio)

    drive_mode_array = np.array(drive_mode_list)
    collect_mode_array = np.array(collect_mode_list)
    return drive_mode_array, collect_mode_array


# def read_mode_data(file):
#     with open(file, "rb") as f:
#         data = np.load(f)
#         f.close()
#         # print("data:", data)
#     return data
# file1 = os.getcwd() + "/mediate_result/drive_mode.npy"
# file2 = os.getcwd() + "/mediate_result/collect_mode.npy"
# save_file(file1, drive_mode_arr)
# save_file(file2, collect_mode_arr)
#
# file1 = os.getcwd() + "/mediate_result/drive_mode.npy"
# file2 = os.getcwd() + "/mediate_result/collect_mode.npy"
# drive_data = read_mode_data(file1)
# collect_data = read_mode_data(file2)
# print(drive_data)
# print(len(drive_data))


# (i) L3 = 0 N_shepherd = 1 N_sheep = 100, 150, 200, 250, 300,
# box_plot_new
list_of_L3 = [0]
list_of_N_sheep = [i for i in range(100, 350, 50)]
list_of_N_shepherd = [1]

# path = "/media/yateng/Extreme SSD/L2=0.5"
path = "/media/yateng/Extreme SSD/L2=0.6"
# path = "/media/yateng/Extreme SSD/L2=0.75"
# path = os.getcwd() + "/../Data_Metric_Model"
# path = "/media/yateng/Extreme SSD/Vision_Model"

drive_mode_arr, collect_mode_arr = calculate_time_in_different_modes(list_of_L3, list_of_N_sheep, list_of_N_shepherd,
                                                                     path)
drive_data = drive_mode_arr
collect_data = collect_mode_arr

plt.figure(figsize=(8, 6), dpi=300)
labels = ["N_sheep = " + str(n_sheep) for n_sheep in list_of_N_sheep]

colors = [(202 / 255., 96 / 255., 17 / 255.), (255 / 255., 217 / 255., 102 / 255.), 'pink', 'lightblue', 'lightgreen']
pos = np.array(np.arange(len(drive_data)) * 3.0 + 0.35)

drive_plot = plt.boxplot(drive_data.T, vert=True, showmeans=True, patch_artist=True, meanline=True, labels=labels,
                         positions=pos, widths=0.3)
plt.setp(drive_plot["boxes"], facecolor="pink")

collect_plot = plt.boxplot(collect_data.T, vert=True, patch_artist=True, showmeans=True, meanline=True, labels=labels,
                           positions=pos - 0.7, widths=0.3)
plt.setp(collect_plot["boxes"], facecolor="lightblue")

# #
x_position = np.array(np.arange(len(drive_data)) * 3.0)
x_position_fmt = ["N_sheep = " + str(n_sheep) for n_sheep in list_of_N_sheep]
plt.xticks([i + 0.8 / 2 for i in x_position], x_position_fmt)
#
plt.xlabel("Number of Sheep")
plt.ylabel("Ratio of shepherd mode")
plt.title("Shepherd = 1")
plt.grid(linestyle="--", alpha=0.3)
# plt.legend(["drive mode", "collect mode"])
plt.legend([drive_plot['boxes'][0], collect_plot['boxes'][0]], ["drive mode", "collect mode"], loc='upper left')
# plt.legend(drive_plot['boxes'],  collect_plot['boxes'], ["drive mode", "collect mode"], loc='lower right')
# plt.savefig(os.getcwd() + "/figures/Modes_of_Shepherd_box_plot_vision_model.png")

plt.savefig(os.getcwd() + "/figures/Modes_of_Shepherd_box_plot_L2=0.6.png")
plt.show()


# L2=0.5
# N_sheep=100_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.04868002246770268, 0.0343230348788735, 0.05894393521902941, 0.06772311490457149, 0.07599294572334478, 0.16934105935665997, 0.03164752489641637, 0.013409661229611042, 0.08215393523305348, 0.04035324029426064, 0.026536291257633144, 0.024519443488520722, 0.03237808180469541, 0.00072, 2e-05, 1.5e-05, 3e-05, 0.001105, 0.00108, 1.5e-05, 0.00046, 1e-05, 2.5e-05, 0.000615, 0.000715] collect_ratio [0.9513199775322974, 0.9656769651211266, 0.9410560647809706, 0.9322768850954285, 0.9240070542766552, 0.83065894064334, 0.9683524751035837, 0.9865903387703889, 0.9178460647669465, 0.9596467597057393, 0.9734637087423669, 0.9754805565114792, 0.9676219181953046, 0.99928, 0.99998, 0.999985, 0.99997, 0.998895, 0.99892, 0.999985, 0.99954, 0.99999, 0.999975, 0.999385, 0.999285]
# N_sheep=150_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.0511445658898742, 0.04069674019003953, 0.03678661687601373, 0.042824353169180755, 0.003472988322587499, 0.03867332359409867, 0.03558438939124004, 0.02520289177688885, 0.12445745081563468, 0.02084081339556745, 0.000645, 0.000145, 2e-05, 2.5e-05, 2.5e-05, 0.001895, 4e-05, 0.0007, 0.000295, 1.5e-05, 2.5e-05, 0.00066, 0.00037, 0.000145, 5e-06] collect_ratio [0.9488554341101259, 0.9593032598099605, 0.9632133831239863, 0.9571756468308192, 0.9965270116774125, 0.9613266764059013, 0.9644156106087599, 0.9747971082231112, 0.8755425491843654, 0.9791591866044326, 0.999355, 0.999855, 0.99998, 0.999975, 0.999975, 0.998105, 0.99996, 0.9993, 0.999705, 0.999985, 0.999975, 0.99934, 0.99963, 0.999855, 0.999995]
# N_sheep=200_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.01659135766598872, 0.04267751618932543, 0.028210480261778675, 0.10123231564450645, 0.01849998331831982, 0.014815967501515176, 0.029224405536769294, 0.01787555623222306, 0.0217941799161443, 0.04768049113418585, 0.016398997086128617, 0.00545, 0.00011, 3e-05, 0.00011, 0.000725, 2.5e-05, 1.5e-05, 0.00067, 0.00048, 3.5e-05, 3e-05, 2e-05, 4.5e-05, 0.00087] collect_ratio [0.9834086423340113, 0.9573224838106745, 0.9717895197382214, 0.8987676843554936, 0.9815000166816802, 0.9851840324984849, 0.9707755944632307, 0.982124443767777, 0.9782058200838557, 0.9523195088658142, 0.9836010029138714, 0.99455, 0.99989, 0.99997, 0.99989, 0.999275, 0.999975, 0.999985, 0.99933, 0.99952, 0.999965, 0.99997, 0.99998, 0.999955, 0.99913]
# N_sheep=250_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.0034376370356449287, 0.031988244602690175, 0.018576637972262076, 0.010650780756385956, 0.018873546731851192, 0.000155, 2.5e-05, 0.00052, 2e-05, 5e-06, 0.00142, 0.000595, 0.00079, 0.000855, 3.5e-05, 5e-05, 0.000635, 2e-05, 5e-06, 0.000245, 1e-05, 4.5e-05, 0.000845, 1e-05, 0.000265] collect_ratio [0.9965623629643551, 0.9680117553973098, 0.9814233620277379, 0.9893492192436141, 0.9811264532681488, 0.999845, 0.999975, 0.99948, 0.99998, 0.999995, 0.99858, 0.999405, 0.99921, 0.999145, 0.999965, 0.99995, 0.999365, 0.99998, 0.999995, 0.999755, 0.99999, 0.999955, 0.999155, 0.99999, 0.999735]
# N_sheep=300_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.02388503631642949, 0.06646935880028682, 4.5e-05, 3e-05, 0.000475, 5e-06, 0.000475, 0.00054, 0.000795, 4e-05, 0.000325, 1e-05, 5.5e-05, 0.00062, 1.5e-05, 0.00082, 2.5e-05, 5e-06, 7e-05, 2.5e-05, 5e-06, 0.00054, 1.5e-05, 0.00193, 1e-05] collect_ratio [0.9761149636835705, 0.9335306411997132, 0.999955, 0.99997, 0.999525, 0.999995, 0.999525, 0.99946, 0.999205, 0.99996, 0.999675, 0.99999, 0.999945, 0.99938, 0.999985, 0.99918, 0.999975, 0.999995, 0.99993, 0.999975, 0.999995, 0.99946, 0.999985, 0.99807, 0.99999]

# L2 = 0.6
# N_sheep=100_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.24567258372398032, 0.2602293932911565, 0.4994587197189428, 0.1377688765842979, 0.10008205048058139, 0.39701564846664406, 0.4589503229637093, 0.13414677183138354, 0.2003779109355849, 0.2687531893179112, 0.25812226274333483, 0.23463214727118975, 0.2069693116601945, 0.30447941078004687, 0.24474483941338915, 0.06681736148168578, 0.02072055924000717, 0.08444457777711112, 0.08682956585217073, 0.08458457707711461, 0.21083394583027085, 0.11407442962785186, 0.08282958585207074, 0.10290948545257274, 0.1434242828785856] collect_ratio [0.7543274162760196, 0.7397706067088434, 0.5005412802810572, 0.8622311234157021, 0.8999179495194186, 0.602984351533356, 0.5410496770362907, 0.8658532281686164, 0.7996220890644151, 0.7312468106820889, 0.7418777372566652, 0.7653678527288102, 0.7930306883398055, 0.6955205892199532, 0.7552551605866109, 0.9331826385183142, 0.9792794407599928, 0.9155554222228889, 0.9131704341478293, 0.9154154229228854, 0.7891660541697292, 0.8859255703721481, 0.9171704141479292, 0.8970905145474273, 0.8565757171214143]
# N_sheep=150_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.1865166471693897, 0.42620576212513656, 0.14906759031881012, 0.34059127769618797, 0.1897886987283679, 0.3475724644576823, 0.3009536225154919, 0.4848943360064558, 0.23706073772428965, 0.3344629958418395, 0.23459992143995934, 0.1669241653791731, 0.21141894290528548, 0.35701821490892544, 0.25083874580627097, 0.2766686166569167, 0.08124459377703111, 0.04905975470122649, 0.09321953390233048, 0.029829850850745746, 0.045924770376148116, 0.10676946615266923, 0.05390473047634762, 0.06519967400162999, 0.046904765476172616] collect_ratio [0.8134833528306102, 0.5737942378748635, 0.8509324096811899, 0.6594087223038121, 0.8102113012716321, 0.6524275355423177, 0.6990463774845082, 0.5151056639935442, 0.7629392622757103, 0.6655370041581605, 0.7654000785600407, 0.8330758346208269, 0.7885810570947145, 0.6429817850910746, 0.749161254193729, 0.7233313833430832, 0.9187554062229689, 0.9509402452987735, 0.9067804660976695, 0.9701701491492543, 0.9540752296238519, 0.8932305338473308, 0.9460952695236524, 0.93480032599837, 0.9530952345238274]
# N_sheep=200_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.1563374061533932, 0.3719065077910174, 0.2615258774538965, 0.2901370533529124, 0.217122795634139, 0.01921607903715901, 0.2712591943209032, 0.3238976506360011, 0.28735264504761504, 0.0001399993000035, 0.3426682866585667, 0.287918560407198, 0.2080039599802001, 0.0006249968750156249, 0.31733841330793344, 0.00022499887500562497, 0.4832325838370808, 0.05324973375133124, 0.2473887630561847, 0.1490642546787266, 0.3334333328333358, 0.14891925540372297, 0.32745836270818646, 4.9999750001249995e-06, 0.16312918435407822] collect_ratio [0.8436625938466068, 0.6280934922089826, 0.7384741225461036, 0.7098629466470876, 0.782877204365861, 0.980783920962841, 0.7287408056790968, 0.6761023493639988, 0.712647354952385, 0.9998600006999965, 0.6573317133414334, 0.712081439592802, 0.7919960400197998, 0.9993750031249844, 0.6826615866920666, 0.9997750011249944, 0.5167674161629192, 0.9467502662486688, 0.7526112369438153, 0.8509357453212734, 0.6665666671666641, 0.851080744596277, 0.6725416372918136, 0.9999950000249999, 0.8368708156459218]
# N_sheep=250_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.4347442256143561, 0.5034625719769674, 0.37543383129621244, 0.3324540223820844, 0.36934409792455125, 0.37844297234375174, 0.3457281512068452, 0.016589917050414748, 0.20541897290513547, 0.28763856180719094, 0.31763341183294086, 0.1301443492782536, 0.07544462277688611, 0.15055924720376399, 0.011229943850280748, 0.2234638826805866, 0.05155974220128899, 2.4999875000624998e-05, 0.0021499892500537496, 0.10092949535252324, 0.12809935950320248, 0.2936635316823416, 0.1826040869795651, 0.29431352843235786, 0.0022999885000574995] collect_ratio [0.5652557743856439, 0.4965374280230326, 0.6245661687037876, 0.6675459776179156, 0.6306559020754487, 0.6215570276562483, 0.6542718487931548, 0.9834100829495852, 0.7945810270948646, 0.7123614381928091, 0.6823665881670591, 0.8698556507217464, 0.9245553772231139, 0.849440752796236, 0.9887700561497192, 0.7765361173194134, 0.948440257798711, 0.9999750001249994, 0.9978500107499463, 0.8990705046474767, 0.8719006404967975, 0.7063364683176584, 0.8173959130204349, 0.7056864715676421, 0.9977000114999425]
# N_sheep=300_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.28351300679634406, 0.03186200166167724, 0.1995237253019354, 0.015980389977099406, 0.24397378013109935, 0.0039499802500987495, 9.999950000249999e-06, 0.212158939205304, 0.0033549832250838745, 0.0, 2.4999875000624998e-05, 0.25787871060644696, 0.050159749201253996, 0.00046999765001174993, 0.3254483727581362, 0.006319968400157999, 0.06532467337663311, 0.20666896665516674, 1.4999925000374999e-05, 0.23555882220588897, 0.0025599872000639998, 0.00046999765001174993, 4.9999750001249995e-06, 0.02436987815060925, 1.4999925000374999e-05] collect_ratio [0.7164869932036559, 0.9681379983383227, 0.8004762746980646, 0.9840196100229006, 0.7560262198689006, 0.9960500197499013, 0.9999900000499997, 0.787841060794696, 0.9966450167749161, 1.0, 0.9999750001249994, 0.742121289393553, 0.949840250798746, 0.9995300023499882, 0.6745516272418638, 0.993680031599842, 0.9346753266233669, 0.7933310333448332, 0.9999850000749996, 0.764441177794111, 0.997440012799936, 0.9995300023499882, 0.9999950000249999, 0.9756301218493908, 0.9999850000749996]


#L2 = 0.67
# N_sheep=100_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.5025811532067548, 0.8006873299574324, 0.3627736235904239, 0.5671611283069555, 0.4832833756052571, 0.3613644401101669, 0.48978038129275797, 0.6433945298717263, 0.6359014368376569, 0.3427394383262877, 0.5811624034717396, 0.5682746345804532, 0.5676250066001373, 0.4716173668497366, 0.42026343694952983, 0.6959548869119114, 0.5875722439602254, 0.3908781220713149, 0.4365940351452037, 0.46679830021032753, 0.635092426952892, 0.5447405151630503, 0.5280731282061619, 0.4927503989940514, 0.6243996599030264] collect_ratio [0.4974188467932452, 0.19931267004256759, 0.637226376409576, 0.43283887169304447, 0.516716624394743, 0.6386355598898331, 0.5102196187072421, 0.3566054701282737, 0.3640985631623431, 0.6572605616737123, 0.41883759652826036, 0.43172536541954676, 0.43237499339986274, 0.5283826331502635, 0.5797365630504702, 0.30404511308808857, 0.41242775603977455, 0.6091218779286851, 0.5634059648547963, 0.5332016997896725, 0.36490757304710797, 0.45525948483694967, 0.4719268717938381, 0.5072496010059486, 0.37560034009697363]
# N_sheep=150_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.4563506390353094, 0.196745, 0.47435456337916343, 0.5159443269908386, 0.4740746838438822, 0.60474, 0.502325706161646, 0.3396854125704762, 0.6257883908394887, 0.30333949204423244, 0.3927082543773213, 0.25128, 0.2831125426848466, 0.14629, 0.23010675874111997, 0.5007150423728813, 0.23156150238233092, 0.3287402655457176, 0.8629928658860767, 0.4423532230333437, 0.47237370838117104, 0.38745232622949793, 0.32398472444698173, 0.2395889702976317, 0.7396612163851641] collect_ratio [0.5436493609646906, 0.803255, 0.5256454366208365, 0.4840556730091614, 0.5259253161561178, 0.39525999999999994, 0.49767429383835404, 0.6603145874295238, 0.3742116091605113, 0.6966605079557675, 0.6072917456226787, 0.74872, 0.7168874573151534, 0.85371, 0.76989324125888, 0.49928495762711866, 0.768438497617669, 0.6712597344542823, 0.1370071341139233, 0.5576467769666563, 0.527626291618829, 0.612547673770502, 0.6760152755530182, 0.7604110297023683, 0.26033878361483587]
# N_sheep=200_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.39504, 0.5125332981353045, 0.410785, 0.6098176049298939, 0.3390873627483285, 0.54885, 0.6357991516151942, 0.2832764505119454, 0.3489436725535176, 0.79174, 1e-05, 0.42599440364989516, 1e-05, 0.954135, 0.57333, 0.610505, 0.7683177122528563, 0.40969, 0.23724, 0.3483498289568192, 0.6488118805236986, 0.6689251563234807, 0.4780586771753469, 0.4029387724773369, 0.7013863874987546] collect_ratio [0.6049599999999999, 0.48746670186469554, 0.589215, 0.3901823950701061, 0.6609126372516715, 0.45115000000000005, 0.3642008483848058, 0.7167235494880546, 0.6510563274464825, 0.20826, 0.99999, 0.5740055963501048, 0.99999, 0.045865000000000045, 0.42667, 0.38949500000000004, 0.23168228774714372, 0.59031, 0.76276, 0.6516501710431808, 0.35118811947630135, 0.3310748436765193, 0.5219413228246531, 0.5970612275226631, 0.2986136125012454]
# N_sheep=250_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.47724, 0.845845, 0.3002347866137929, 0.371685, 0.573205, 0.208315, 0.50632, 0.48136, 0.00081, 0.27204, 0.441225, 0.533285, 0.432025, 0.819025, 2.5e-05, 0.57006, 0.295575, 0.5457029360611705, 0.40282, 0.5835460111983387, 0.19983, 0.365025, 0.718445, 0.51801, 0.42534] collect_ratio [0.52276, 0.15415500000000004, 0.6997652133862071, 0.628315, 0.42679500000000004, 0.791685, 0.49368, 0.51864, 0.99919, 0.7279599999999999, 0.558775, 0.466715, 0.567975, 0.180975, 0.999975, 0.42994, 0.7044250000000001, 0.4542970639388295, 0.59718, 0.4164539888016613, 0.80017, 0.6349750000000001, 0.281555, 0.48199000000000003, 0.57466]
# N_sheep=300_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [5e-06, 0.623485, 0.917545, 0.5970287715263805, 0.12578, 0.002785, 0.0, 0.023465, 2e-05, 0.6999640471549946, 0.413575, 0.66906, 0.700968548219121, 5e-06, 0.209055, 1.5e-05, 0.31707, 0.5254, 0.58162, 0.030975, 0.45939, 0.2859905502592407, 0.7541392064795513, 0.67466, 0.3976260053272647] collect_ratio [0.999995, 0.37651500000000004, 0.08245499999999995, 0.40297122847361955, 0.87422, 0.997215, 1.0, 0.976535, 0.99998, 0.3000359528450054, 0.586425, 0.33094, 0.299031451780879, 0.999995, 0.790945, 0.999985, 0.68293, 0.4746, 0.41838, 0.969025, 0.54061, 0.7140094497407593, 0.24586079352044865, 0.32533999999999996, 0.6023739946727353]

#L2=0.75
# N_sheep=100_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.8324920800933715, 0.756953755741306, 0.6076916582235731, 0.7578091680990475, 0.5712393815023384, 0.7796594178970706, 0.8034878373757502, 0.7944528918816952, 0.7128415484275884, 0.7172807506807967, 0.7816944169249944, 0.5641853104539671, 0.8285449966593, 0.923087892276195, 0.6398917875173482, 0.5594695066814026, 0.6077081699631146, 0.5796258237570073, 0.6307036899064867, 0.6517137714280329, 0.5683495664513514, 0.7131544413774379, 0.47516721595377154, 0.5351165364133066, 0.45433982148479923] collect_ratio [0.1675079199066285, 0.24304624425869403, 0.3923083417764269, 0.24219083190095247, 0.42876061849766156, 0.2203405821029294, 0.19651216262424975, 0.2055471081183048, 0.2871584515724116, 0.28271924931920334, 0.21830558307500558, 0.43581468954603286, 0.17145500334069996, 0.07691210772380497, 0.3601082124826518, 0.4405304933185974, 0.3922918300368854, 0.42037417624299267, 0.36929631009351327, 0.3482862285719671, 0.4316504335486486, 0.2868455586225621, 0.5248327840462285, 0.4648834635866934, 0.5456601785152008]
# N_sheep=150_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.6804208468042084, 0.700173686495875, 0.8319558669925262, 0.6529643155363736, 0.6526914246864192, 0.7952727936023348, 0.7053871458384917, 0.6731149491661854, 0.5600273382415282, 0.8560348252690494, 0.6730719937820921, 0.6830276055047373, 0.8984747378455672, 0.540180366041428, 0.6216031447615792, 0.5952897360061343, 0.7774021709765238, 0.4283765714554483, 0.8087138978030116, 0.5280208314540523, 0.648903575961833, 0.483525, 0.55789, 0.8148, 0.81423] collect_ratio [0.31957915319579155, 0.29982631350412503, 0.16804413300747378, 0.3470356844636264, 0.34730857531358084, 0.20472720639766517, 0.2946128541615083, 0.3268850508338146, 0.43997266175847183, 0.1439651747309506, 0.32692800621790785, 0.3169723944952627, 0.1015252621544328, 0.45981963395857195, 0.3783968552384208, 0.40471026399386567, 0.22259782902347625, 0.5716234285445517, 0.19128610219698838, 0.4719791685459477, 0.351096424038167, 0.516475, 0.44211, 0.18520000000000003, 0.18577]
# N_sheep=200_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.8471149897330595, 0.5004062480029944, 0.6356218959777329, 0.6962937879287452, 0.5848407665384482, 0.439257239676956, 0.7135932877605254, 0.5969971967501306, 0.3230595026933625, 0.7836424000887086, 0.549144225939806, 0.32101891765897567, 0.8024475139338665, 0.2579211454030322, 0.4247830101569714, 0.422956579853376, 0.5316419999899286, 0.47285, 0.925915, 1.0, 1.0, 1.0, 0.84262, 0.494105, 0.751225] collect_ratio [0.15288501026694046, 0.4995937519970056, 0.3643781040222671, 0.3037062120712548, 0.4151592334615518, 0.5607427603230439, 0.28640671223947456, 0.40300280324986937, 0.6769404973066375, 0.21635759991129144, 0.45085577406019395, 0.6789810823410243, 0.19755248606613351, 0.7420788545969679, 0.5752169898430286, 0.577043420146624, 0.46835800001007144, 0.52715, 0.07408499999999996, 0.0, 0.0, 0.0, 0.15737999999999996, 0.505895, 0.24877499999999997]
# N_sheep=250_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.8749055316952683, 0.45944467783229365, 0.7538076459892795, 0.9173161615040154, 0.2634208298052498, 0.4783174992338339, 0.37643751110659796, 0.38447225363931553, 0.21104322944861187, 0.7392158202124389, 0.6093956397547785, 0.483529890199268, 1.0, 0.90894, 0.857835, 0.66951, 0.00472, 0.835565, 0.038165, 0.41949, 0.00083, 0.92389, 0.76629, 0.730335, 1.0] collect_ratio [0.1250944683047317, 0.5405553221677064, 0.24619235401072048, 0.0826838384959846, 0.7365791701947502, 0.5216825007661661, 0.623562488893402, 0.6155277463606845, 0.7889567705513881, 0.2607841797875611, 0.3906043602452215, 0.516470109800732, 0.0, 0.09106000000000003, 0.14216499999999999, 0.33048999999999995, 0.99528, 0.164435, 0.961835, 0.5805100000000001, 0.99917, 0.07611000000000001, 0.23370999999999997, 0.26966500000000004, 0.0]
# N_sheep=300_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.8814282398328758, 0.41714269830018486, 0.8293890312215033, 0.7647500643419525, 0.3994331228473019, 1.0, 0.8757, 0.017575, 0.81396, 0.245855, 0.97844, 0.649625, 0.167725, 0.51595, 0.85888, 1.0, 0.971795, 0.363745, 0.89323, 0.766535, 0.0011, 3.5e-05, 0.13387, 1.0, 0.515295] collect_ratio [0.11857176016712423, 0.5828573016998151, 0.17061096877849669, 0.23524993565804753, 0.6005668771526981, 0.0, 0.12429999999999997, 0.982425, 0.18603999999999998, 0.7541450000000001, 0.021560000000000024, 0.350375, 0.832275, 0.48405, 0.14112000000000002, 0.0, 0.028205000000000036, 0.636255, 0.10677000000000003, 0.23346500000000003, 0.9989, 0.999965, 0.8661300000000001, 0.0, 0.48470500000000005]


# Vision Model
# N_sheep=100_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [1.0, 0.9968183571153104, 0.9956650879023842, 0.9908087966683714, 0.9978746166464589, 0.9956814624329159, 0.9882223705434118, 0.9929320345544977, 0.994843903555418, 0.9938715301059408, 0.9945707544640463, 0.9943324177664634, 0.9956211290386209, 0.9957473210707961, 0.9940519199009084, 0.9959716240182417, 0.9971752806216849, 0.9959630207825154, 0.9968131767715995, 0.9854676635599103, 0.9963924647470339, 0.995406552737564, 0.9947612374690094, 0.986382196601815, 0.9922895086590847] collect_ratio [0.0, 0.003181642884689584, 0.004334912097615828, 0.009191203331628595, 0.002125383353541066, 0.004318537567084113, 0.011777629456588223, 0.007067965445502256, 0.005156096444582037, 0.006128469894059241, 0.005429245535953697, 0.005667582233536583, 0.004378870961379122, 0.00425267892920389, 0.005948080099091646, 0.004028375981758314, 0.002824719378315077, 0.004036979217484582, 0.0031868232284004705, 0.014532336440089666, 0.0036075352529660876, 0.004593447262436046, 0.005238762530990648, 0.013617803398184969, 0.007710491340915282]
# N_sheep=150_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.9962568786837621, 0.9888870884982041, 0.9978233705510097, 0.9913262592752045, 0.9909908817538073, 0.9943568364449278, 0.993930911186648, 0.9925744316448866, 0.9915568558791006, 0.9964840510807673, 0.9978404554675742, 0.9871145433925582, 0.9935989155809926, 0.9884861711674962, 0.9917253627722052, 0.9938837615365428, 0.9944113480682282, 0.992568085457315, 0.9926174688192707, 0.9926870939882092, 0.990361823598314, 0.9948717948717949, 0.9866887242152658, 0.9898833409525745, 0.9935154555611541] collect_ratio [0.003743121316237885, 0.011112911501795941, 0.0021766294489903304, 0.008673740724795542, 0.00900911824619266, 0.005643163555072217, 0.006069088813351997, 0.007425568355113432, 0.008443144120899415, 0.003515948919232681, 0.002159544532425839, 0.012885456607441781, 0.006401084419007441, 0.011513828832503847, 0.008274637227794757, 0.006116238463457213, 0.005588651931771826, 0.007431914542684992, 0.00738253118072929, 0.0073129060117907985, 0.00963817640168596, 0.00512820512820511, 0.013311275784734233, 0.010116659047425536, 0.0064845444388459406]
# N_sheep=200_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.9937366424944717, 0.9918539929767564, 0.9957790856667261, 0.9905391972028931, 0.9923879848671316, 0.9939117199391172, 0.9965839957489725, 0.9920620865670087, 0.9900914318811799, 0.9922810398556667, 0.9914224950359328, 0.9925919384591232, 0.9890801896031652, 0.9934785544772232, 0.9915785619479153, 0.9906293154468337, 0.9941851796630387, 0.9893189829316366, 0.9921720687757019, 0.9970374166272991, 0.9907238293002706, 0.9941034379583884, 0.9874929010274149, 0.9931385201937081, 0.9900120962727653] collect_ratio [0.006263357505528311, 0.00814600702324364, 0.004220914333273873, 0.009460802797106926, 0.007612015132868355, 0.0060882800608828, 0.0034160042510275046, 0.007937913432991328, 0.009908568118820127, 0.0077189601443332645, 0.008577504964067173, 0.007408061540876809, 0.010919810396834762, 0.006521445522776781, 0.008421438052084729, 0.009370684553166253, 0.005814820336961346, 0.010681017068363441, 0.007827931224298146, 0.0029625833727009443, 0.009276170699729414, 0.005896562041611597, 0.012507098972585062, 0.006861479806291926, 0.009987903727234682]
# N_sheep=250_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.9900687547746372, 0.9879079083344875, 0.9940534691405823, 0.9925534541504123, 0.9905008039298855, 0.9884169884169884, 0.9899568800829649, 0.9922917176773585, 0.9863893805309735, 0.9869412055715249, 0.9898369715855164, 0.9957590826313645, 0.9950768312695808, 0.9912070673712021, 0.9914580653672372, 0.9910677708786839, 0.991551249775921, 0.992770181968253, 0.991393797807001, 0.9870287307552431, 0.9861731189782501, 0.9896557436391413, 0.9914435701267094, 0.9883900580497097, 0.8991955040224799] collect_ratio [0.009931245225362817, 0.012092091665512505, 0.005946530859417654, 0.007446545849587705, 0.009499196070114513, 0.01158301158301156, 0.010043119917035104, 0.007708282322641535, 0.01361061946902653, 0.013058794428475129, 0.010163028414483577, 0.004240917368635522, 0.004923168730419203, 0.008792932628797878, 0.00854193463276276, 0.008932229121316082, 0.008448750224078982, 0.007229818031747048, 0.008606202192999013, 0.012971269244756889, 0.013826881021749893, 0.010344256360858672, 0.008556429873290639, 0.011609941950290303, 0.10080449597752006]
# N_sheep=300_N_shepherd=1_L3=0 Repetitions: 25 drive_ratio: [0.9908872812482565, 0.9963813372520206, 0.9895805650504477, 0.9874057472620204, 0.9957106819839854, 0.9880097761200385, 0.987672072010754, 0.990631635249688, 0.9896941670228889, 0.9912819466793584, 0.9903556766412237, 0.9943615714939655, 0.9881210433384534, 0.990638895389656, 0.9935235311700821, 0.9871106535903394, 0.9932691252173813, 0.9921586091819248, 0.9895441237975743, 0.9907300463497682, 0.9921050394748027, 0.9878550607246964, 0.9954600226998865, 0.7537262313688432, 0.9966950165249173] collect_ratio [0.009112718751743465, 0.0036186627479793954, 0.01041943494955233, 0.01259425273797965, 0.0042893180160146205, 0.011990223879961515, 0.01232792798924598, 0.009368364750311997, 0.010305832977111073, 0.008718053320641572, 0.009644323358776297, 0.005638428506034465, 0.011878956661546591, 0.009361104610344007, 0.006476468829917925, 0.012889346409660551, 0.00673087478261869, 0.007841390818075222, 0.010455876202425718, 0.009269953650231755, 0.007894960525197336, 0.012144939275303579, 0.0045399773001134625, 0.2462737686311568, 0.003304983475082679]

